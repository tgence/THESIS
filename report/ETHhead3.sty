% ETHhead.sty
% 
% ETH header according to corporate design standard
% 
% Author: Tobias Oetiker, Moritz Borgmann, Markus GÃ¤rtner, Michael Lerjen
% Copyright (C) 2002-2015 Communication Theory Group, ETH Zurich
% 
%

\RequirePackage{graphicx}
\RequirePackage{setspace}

\usepackage[T1]{fontenc}

\newlength{\ETHheadwidth}
\newlength{\ETHheadoffset}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definition of newETHhead - added by MB
% Usage: \newETHhead{Organisationseinheit}{Adresse}
% 
% This new head has a layout exactly accoring to the new Corporate 
% Communications guidelines. Its vertical spacing is such that it 
% always starts 10mm from the top paper edge. It will most likely 
% result in a warning about an overfull \vbox - just ignore.
%    

%% --- Replacement for the older ETHlogo.sty (Dieter Hennig)
\newcommand{\Logo}[1][\textwidth]{\resizebox{#1}{!}{\includegraphics{ETHlogo_13}}}

% Use the following lines if the hevetica fonts should be used
% (Frank Schweitzer, Robert Mach, Dieter Hennig, Niklas Beisert)
\newfont{\eth@xiiiv}{phvr8t at 8.5pt}     % header-font regular
\newfont{\eth@xiiivb}{phvb8t at 8.6pt}    % header-font bold

%% --- internal text parameters (Niklas Beisert) 
\newcommand{\eth@FirstUnitNameText}{}
\newcommand{\EthFirstUnitName}[1]{\renewcommand{\eth@FirstUnitNameText}{#1}}
\newcommand{\eth@SecondUnitNameText}{}
\newcommand{\EthSecondUnitName}[1]{\renewcommand{\eth@SecondUnitNameText}{\\#1}}

%%pagestyle empty ist default, but can be any with optional parameter in square brackets
\newcommand{\ETHhead}[3][empty]{
	\thispagestyle{#1}
 	\setlength{\unitlength}{1mm}
  %% The picture environment is defined in this way
  %% to ensure that pages following page 1 are right
  %% (Robert Mach, Dieter Hennig)
  	\begin{picture}(166,1)
    	\put(-10,28){
      	% Second picture environment to set origin of
      	% coordinate system to top left.
      	\begin{picture}(0,0)
      
           % ETH logo
        	       \put(0,-4){\makebox(0,0)[lt]{\Logo[62mm]}}
        	       
               \put(98,-14){\makebox(0,0)[lt]{%
               \begin{minipage}[t]{68mm}
                   \eth@xiiivb
                   \baselineskip=11pt
                   #2\\%
                   #3\\~\\
                   
              \end{minipage}
            }
          } % end ETH logo
      \end{picture}
    }
  \end{picture}
  \flushbottom

%\def\ps@ETHhead{%
%  \def\@oddhead{%
%\noindent%
%\setlength{\ETHheadoffset}{10mm}%
%\addtolength{\ETHheadoffset}{-\voffset}%
%\addtolength{\ETHheadoffset}{-1in}%
%\addtolength{\ETHheadoffset}{-\topmargin}%
%\setlength{\ETHheadwidth}{\textwidth}%
%\addtolength{\ETHheadwidth}{-97mm}% 120mm - 23mm
%\begin{minipage}[b]{\linewidth}\begin{singlespace}\vspace{\ETHheadoffset}\parbox[t]{62mm}{\rule{0pt}{0pt}\\\includegraphics[width=62mm]{ETHlogo_13}}\hspace{36mm}%
%\raisebox{1.9pt}{\parbox[t]{\ETHheadwidth}{\rule{0pt}{0pt}\\\fontsize{8.5pt}{11.5pt}\usefont{T1}{phv}{m}{n}\textbf{#1}\\\mbox{}\\#2}}\hfill%
%\\\mbox{}\hfill\end{singlespace}\end{minipage}%
%}%
%\def\@oddfoot{}}
%\thispagestyle{ETHhead}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% to have an ethkopf on the fullpage maketitle page wee need to
% get rid of the thispagestyle empty thing from the 
% standard latex \maketitle
\renewenvironment{titlepage}{
 \if@twocolumn
    \@restonecoltrue\onecolumn
 \else
    \@restonecolfalse\newpage
 \fi
 \setcounter{page}\@ne
}{\if@restonecol\twocolumn \else \newpage \fi
     \if@twoside\else
        \setcounter{page}\@ne
     \fi
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


